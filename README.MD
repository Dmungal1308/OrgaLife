# ğŸ“± OrgaLife

**Autor:** David MuÃ±oz Gallego  
**TecnologÃ­as:** Android Studio, Kotlin, Retrofit, Dagger-Hilt, MVVM, LiveData

## ğŸ“š DescripciÃ³n del Proyecto

OrgaLife es una aplicaciÃ³n mÃ³vil desarrollada en Android Studio con Kotlin. EstÃ¡ diseÃ±ada para facilitar a los usuarios la creaciÃ³n, gestiÃ³n y personalizaciÃ³n de sus propias rutinas o ejercicios sobre cualquier temÃ¡tica o actividad. OrgaLife promueve un enfoque personalizado, permitiendo que cada usuario registre ejercicios con descripciones e imÃ¡genes asociadas, administrando sesiones de usuario, autenticaciÃ³n segura y gestiÃ³n completa de contenidos personales.

## ğŸ“‚ Estructura del Proyecto

La estructura del proyecto OrgaLife sigue una arquitectura limpia basada en MVVM y estÃ¡ organizada en mÃºltiples capas y mÃ³dulos claramente definidos:

```
com
â””â”€â”€ iesvdc
    â””â”€â”€ acceso
        â””â”€â”€ orgalife
            â”œâ”€â”€ data
            â”‚   â”œâ”€â”€ datasource
            â”‚   â”‚   â””â”€â”€ network
            â”‚   â”‚       â”œâ”€â”€ models
            â”‚   â”‚       â”‚   â”œâ”€â”€ ExerciseRequest
            â”‚   â”‚       â”‚   â”œâ”€â”€ ExerciseResponse
            â”‚   â”‚       â”‚   â”œâ”€â”€ LoginRequest
            â”‚   â”‚       â”‚   â”œâ”€â”€ LoginResponse
            â”‚   â”‚       â”‚   â””â”€â”€ RegisterRequest
            â”‚   â”‚       â”œâ”€â”€ AuthApi
            â”‚   â”‚       â”œâ”€â”€ ExerciseApi
            â”‚   â”‚       â””â”€â”€ AuthInterceptor
            â”‚   â””â”€â”€ repository
            â”‚       â”œâ”€â”€ AuthRepository
            â”‚       â””â”€â”€ ExerciseRepository
            â”œâ”€â”€ di
            â”‚   â”œâ”€â”€ AppModule
            â”‚   â””â”€â”€ NetworkModule
            â”œâ”€â”€ domain
            â”‚   â”œâ”€â”€ models
            â”‚   â”‚   â”œâ”€â”€ Anuncio
            â”‚   â”‚   â””â”€â”€ UserData
            â”‚   â””â”€â”€ usercase
            â”‚       â”œâ”€â”€ AddExerciseUseCase
            â”‚       â”œâ”€â”€ DeleteExerciseUseCase
            â”‚       â”œâ”€â”€ GetAnunciosUseCase
            â”‚       â”œâ”€â”€ GetExercisesUseCase
            â”‚       â”œâ”€â”€ IsLoggedInUseCase
            â”‚       â”œâ”€â”€ LoginUserUseCase
            â”‚       â”œâ”€â”€ LogoutUseCase
            â”‚       â”œâ”€â”€ RegisterUserUseCase
            â”‚       â”œâ”€â”€ RegistrationResult
            â”‚       â”œâ”€â”€ ResetPasswordUseCase
            â”‚       â”œâ”€â”€ SaveSessionUseCase
            â”‚       â”œâ”€â”€ UpdateExerciseUseCase
            â”‚       â””â”€â”€ WaitForSplashUseCase
            â””â”€â”€ ui
                â”œâ”€â”€ adapter
                â”‚   â”œâ”€â”€ AnuncioAdapter
                â”‚   â””â”€â”€ ExerciseAdapter
                â”œâ”€â”€ modelview
                â”‚   â”œâ”€â”€ AnunciosViewModel
                â”‚   â”œâ”€â”€ EjercicioViewModel
                â”‚   â”œâ”€â”€ LoginViewModel
                â”‚   â”œâ”€â”€ MenuViewModel
                â”‚   â”œâ”€â”€ RegistrarViewModel
                â”‚   â””â”€â”€ SplashViewModel
                â””â”€â”€ view
                    â”œâ”€â”€ AddExerciseDialogFragment
                    â”œâ”€â”€ EditExerciseDialogFragment
                    â”œâ”€â”€ LogoutConfirmationDialogFragment
                    â”œâ”€â”€ AnunciosActivity
                    â”œâ”€â”€ EjercicioActivity
                    â”œâ”€â”€ LoginActivity
                    â”œâ”€â”€ MenuActivity
                    â”œâ”€â”€ PantallaCargaActivity
                    â””â”€â”€ RegistrarActivity
MyApplication
```

## ğŸ“¦ ExplicaciÃ³n Detallada de las Clases

### ğŸ”¹ Data Layer

#### ğŸ“Œ AuthRepository
Gestiona la lÃ³gica relacionada con la autenticaciÃ³n.
```kotlin
suspend fun login(email: String, password: String): LoginResult {
    val response = authApi.login(LoginRequest(email, password))
    response.token?.let { token ->
        prefs.edit().putString("jwt_token", token).apply()
        return LoginResult.Success(UserData(uid = 15, email = email, usuario = email, nombreCompleto = ""))
    } ?: return LoginResult.Error(response.error ?: "Error desconocido")
}
```
Este mÃ©todo verifica el token y lo guarda localmente usando `SharedPreferences`, proporcionando un manejo robusto de errores.

#### ğŸ“Œ ExerciseRepository
Realiza operaciones CRUD en ejercicios mediante llamadas API.
```kotlin
suspend fun getExercises(): List<ExerciseResponse> {
    return exerciseApi.getExercises().filter { it.ownerId == currentUserId }
}
```
Filtra automÃ¡ticamente ejercicios segÃºn el usuario actual.

### ğŸ”¸ Domain Layer

#### ğŸ“Œ Casos de Uso (UserCases)
Encapsulan tareas especÃ­ficas como:
- `AddExerciseUseCase`: AÃ±ade ejercicios nuevos.
- `DeleteExerciseUseCase`: Elimina ejercicios existentes.
- `LoginUserUseCase`: Gestiona la autenticaciÃ³n.

Ejemplo:
```kotlin
class DeleteExerciseUseCase @Inject constructor(
    private val repository: ExerciseRepository
) {
    suspend operator fun invoke(exerciseId: Int) = repository.deleteExercise(exerciseId)
}
```
Facilita reutilizaciÃ³n y separaciÃ³n de responsabilidades.

### ğŸ”¹ DI Layer
Gestiona la creaciÃ³n e inyecciÃ³n de dependencias mediante Dagger-Hilt:
- `AppModule`: Proporciona repositorios y casos de uso.
- `NetworkModule`: Provee Retrofit, APIs e interceptores.

### ğŸ”¸ UI Layer
Gestiona todas las interacciones visuales:

#### ğŸ“Œ ViewModels
Exponen datos observables para la interfaz:
```kotlin
val exercises = MutableLiveData<List<ExerciseResponse>>()
```
Garantizan actualizaciones dinÃ¡micas y seguras.

#### ğŸ“Œ Actividades y Fragments
Interfaces para usuario final con navegaciÃ³n y diÃ¡logos personalizados, por ejemplo:

- `MenuActivity`: Muestra ejercicios con soporte para aÃ±adir y editar mediante diÃ¡logos.
- `LoginActivity`: Autentica usuarios y maneja sesiones.
- `RegistrarActivity`: Facilita registro de nuevos usuarios.

Ejemplo (MenuActivity):
```kotlin
menuViewModel.exercises.observe(this) { list ->
    exerciseAdapter.setExercises(list)
}
```
Actualiza automÃ¡ticamente la vista cuando cambian los datos.

## ğŸš€ CaracterÃ­sticas Principales

- AutenticaciÃ³n segura con JWT.
- GestiÃ³n dinÃ¡mica de ejercicios.
- Arquitectura limpia y escalable.
- Uso avanzado de ViewModels y LiveData.

## ğŸ› ï¸ TecnologÃ­as Usadas

- Android Studio, Kotlin, Retrofit, Dagger-Hilt, Glide

## ğŸ”§ ConfiguraciÃ³n

1. Clonar repositorio.
2. Importar en Android Studio.
3. Ejecutar en emulador o dispositivo fÃ­sico.

## ğŸ“Œ Dependencias Principales

- Retrofit, Gson, Dagger-Hilt, Glide

## ğŸ“± Interfaces Destacadas

- LoginActivity, RegistrarActivity
- PantallaCargaActivity (Splash)
- MenuActivity, EjercicioActivity
- AnunciosActivity

## ğŸ“– Ejemplo de Uso

- Iniciar sesiÃ³n.
- Administrar ejercicios personalizados.
- Visualizar y aÃ±adir imÃ¡genes fÃ¡cilmente.

## âœ’ï¸ Autor

- David MuÃ±oz Gallego

Â¡Disfruta OrgaLife, personaliza tus rutinas y optimiza tu dÃ­a a dÃ­a!